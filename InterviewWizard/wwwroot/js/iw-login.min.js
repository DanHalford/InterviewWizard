/*! asp.net 2025-01-30 */
document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("input.form-control").forEach(function(e){e.addEventListener("keydown",function(e){"Enter"==e.key&&document.getElementById("cmdSubmit").click()})}),document.getElementById("cmdSubmit").addEventListener("click",function(){document.getElementById("cmdSubmit").classList.add("d-none"),document.getElementById("cmdWait").classList.remove("d-none");var e=document.getElementById("txtEmailAddress").value,t=document.getElementById("txtPassword").value;fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Email:e,Password:t})}).then(e=>{if(200!==e.status)return document.getElementById("cmdSubmit").classList.remove("d-none"),document.getElementById("cmdWait").classList.add("d-none"),e.json();e=e.headers.get("Authorization");localStorage.setItem("iw-token",e),location.href="/documents"}).then(e=>{switch(e.message){case"NOTVERIFIED":document.getElementById("lblStatusAlert").innerHTML="Your credentials are correct but your account is not verified. Please check your email for the verification message from <strong>hello@interviewwizard.ai</strong>.";break;case"INVALIDLOGIN":document.getElementById("lblStatusAlert").innerHTML="Your email address and password were not recognised.";break;default:document.getElementById("lblStatusAlert").innerHTML='An error occurred trying to sign in. Please try again. If the error persists, <a href="/contact?subject=Sign In Error" class="link-danger" aria-label="Contact form">let us know</a>.'}document.getElementById("lblStatusAlert").classList.remove("d-none")})})});